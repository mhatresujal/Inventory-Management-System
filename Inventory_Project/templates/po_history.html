<!DOCTYPE html>
<html>
<head>
  <title>Purchase Orders</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
  <h1>ðŸ“‘ Purchase Order History</h1>
  <a href="{{ url_for('index') }}" class="btn btn-primary mb-3">Back to Inventory</a>

  {% if purchase_orders and purchase_orders|length > 0 %}
  <table class="table table-bordered table-striped align-middle">
    <thead class="table-dark">
      <tr>
        <th>PO #</th>
        <th>Date</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Vendor</th>
        <th>Status</th>
        <th style="width: 120px;">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for po in purchase_orders %}
      <tr>
        <td>{{ po.po_id }}</td>
        <td>{{ po.date or '-' }}</td>
        <td>{{ po.product_name or 'â€” (deleted product)' }}</td>
        <td>{{ po.quantity }}</td>
        <td>{{ po.vendor_name or 'â€” (deleted vendor)' }}</td>
        <td>
          {% if po.status == 'Pending' %}
            <span class="badge bg-warning text-dark">Pending</span>
          {% else %}
            <span class="badge bg-success">Received</span>
          {% endif %}
        </td>
        <td>
          {% if po.status == 'Pending' %}
            <a href="{{ url_for('receive_po', po_id=po.po_id) }}"
               class="btn btn-success btn-sm">Receive</a>
          {% else %}
            <button class="btn btn-secondary btn-sm" disabled>Done</button>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <div class="alert alert-info">No purchase orders yet.</div>
  {% endif %}
</body>
</html>